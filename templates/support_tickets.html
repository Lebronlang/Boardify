{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">

    <h2 class="mb-4">Help & Support Tickets</h2>

    {% if tickets %}
        <div class="row g-3">
            {% for ticket in tickets %}
                <div class="col-md-6">
                    <div class="card shadow-sm p-3 h-100">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h5>{{ ticket.subject }}</h5>
                            <small class="text-muted">{{ ticket.timestamp.strftime('%Y-%m-%d %H:%M') }}</small>
                        </div>
                        <p>{{ ticket.message }}</p>
                        <p class="mb-0"><strong>From:</strong> {{ ticket.user.name }} ({{ ticket.user.role }})</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-center text-muted">No support tickets yet.</p>
    {% endif %}

</div>

<style>
.card {
    border-radius: 12px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 25px rgba(0,0,0,0.15);
}
</style>

{% endblock %}
